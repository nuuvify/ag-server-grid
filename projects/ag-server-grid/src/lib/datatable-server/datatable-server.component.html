<section class="table__body">
  <div style="display: flex; justify-content:right; padding: 3px;   flex-wrap: wrap;">
    @if(exportCsv){
    <div style="margin-right: 5px;">
      <button class="btn" (click)="exportAsXLSX()">EXPORT csv</button>
    </div>
    }
    @if(editable){
    <div style="margin-right: 5px;">
      <button [disabled]="itensSelecionados.length > 1" (click)="getRowEditSelect()" class="btn">Alterar</button>
    </div>
    }
    @if(deletable){
    <div style="margin-right: 5px;">
      <button class="btn" (click)="getRowListDeleteSelect()">Excluir</button>
    </div>
    }
  </div>
  <table id="catTable">
    <thead id="cat-table-header">
      <tr>
        @for (header of columnDefs; track header) {
        <th scope="col" (click)="sortBy(header.field)" onKeyDown="sortBy(header.field)"
          [style.minWidth.px]="header.minWidth != undefined ? header.minWidth : 50"
          [style.maxWidth.px]="header.maxWidth != undefined ? header.maxWidth : 50">{{
          header.changeName != undefined ? header.changeName : header.headerName != undefined ?
          header.headerName : header.field
          }}{{sortIcon(header.field)}}</th>
        }
        @if (editable) {
        <th>
          Editar
        </th>
        }
        @if (deletable) {
        <th>
          Excluir
        </th>
        }
      </tr>
    </thead>
    <tbody id="cat-table-body">
      @for (item of rowData | searchFilter: searchText; track item; let i = $index) {
      <tr (dblclick)="getRow(item)" [class.selected]="isSelecionado(i)" (click)="selecionarLinha(i, $event)">
        @for (h of columnDefs; track h) {
        <td>{{ item[h.field] | dateOrString }}</td>
        }
        @if (editable) {
        <td><button class="btn" (click)="getRow(item)">Editar</button></td>
        }
        @if (deletable) {
        <td><button class="btn" (click)="getRow(item)">Excluir</button></td>
        }
      </tr>
      }
    </tbody>
  </table>
  @if (pagination) {
  <pagination-server [pager]="pager" [configPag]="configPag" (paginachange)="listagem($event)"
    (next)="nextLevel($event)" (prev)="prevLevel($event)" (setPage)="setPagination($event)"></pagination-server>
  }
</section>
